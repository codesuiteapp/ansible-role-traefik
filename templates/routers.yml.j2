http:
  routers:
{% if use_svc_gitlab %}
    gitlab:
      entryPoints:
      - web
      - websecure
      rule: "Host(`{{ traefik_domain }}`) && PathPrefix(`/gitlab`)"
      service: gitlab-svc
      tls: {}
{% endif %}
{% if use_svc_nexus %}
    nexus:
      entryPoints:
      - web
      - websecure
      rule: "Host(`{{ traefik_domain }}`) && PathPrefix(`/nexus`)"
      service: nexus-svc
      tls: {}
{% endif %}
{% if use_svc_jira %}
    jira:
      entryPoints:
      - web
      - websecure
      rule: "Host(`{{ traefik_domain }}`) && PathPrefix(`/jira`)"
      service: jira-svc
      tls: {}
{% endif %}
{% if use_svc_argocd %}
    argocd:
      entryPoints:
      - web
      - websecure
      rule: "Host(`{{ traefik_domain }}`) && PathPrefix(`/argocd`)"
      service: argocd-svc
      tls: {}
{% endif %}
{% if use_svc_grafana %}
    grafana:
      entryPoints:
      - web
      - websecure
      rule: "Host(`{{ traefik_domain }}`) && PathPrefix(`/grafana`)"
      service: grafana-svc
      tls: {}
{% endif %}
{% if use_svc_jaeger %}
    jaeger:
      entryPoints:
      - web
      - websecure
      #middlewares:
      #- mid-basicauth@file
      rule: "Host(`{{ traefik_domain }}`) && PathPrefix(`/jaeger`)"
      service: jaeger-svc
      tls: {}
{% endif %}
  services:
{% if use_svc_argocd %}
    argocd-svc:
      loadBalancer:
        servers:
          - url: "{{ trf_argocd_url }}"
{% endif %}
{% if use_svc_grafana %}
    grafana-svc:
      loadBalancer:
        servers:
          - url: "{{ trf_grafana_url }}"
{% endif %}
{% if use_svc_jaeger %}
    jaeger-svc:
      loadBalancer:
        servers:
          - url: "{{ trf_jaeger_url }}"
{% endif %}
{% if use_svc_gitlab %}
    gitlab-svc:
      loadBalancer:
        servers:
          - url: "{{ trf_gitlab_url }}"
{% endif %}
{% if use_svc_nexus %}
    nexus-svc:
      loadBalancer:
        servers:
          - url: "{{ trf_nexus_url }}"
{% endif %}
{% if use_svc_jira %}
    jira-svc:
      loadBalancer:
        servers:
          - url: "{{ trf_jira_url }}"
{% endif %}
